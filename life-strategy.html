<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Life Strategy Matrix — Ben Siverly</title>
  <meta name="description" content="Score 8 life areas on importance and satisfaction. See where to invest your energy. Print a one-page plan.">

  <!-- Open Graph -->
  <meta property="og:title" content="Life Strategy Matrix — Ben Siverly">
  <meta property="og:description" content="Score 8 life areas on importance and satisfaction. See where to invest your energy.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://bensiverly.com/life-strategy.html">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Zilla+Slab:wght@600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

  <style>
    /* ==========================================================================
       CSS Variables
       ========================================================================== */
    :root {
      --color-bg: #FFFFFF;
      --color-bg-alt: #F8F8F6;
      --color-text: #1A1A1A;
      --color-accent: #FFE227;
      --color-accent-hover: #FFD800;
      --color-muted: #666666;
      --color-border: #E5E5E5;

      --font-heading: 'Zilla Slab', Georgia, serif;
      --font-body: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      --font-mono: 'JetBrains Mono', 'Fira Code', monospace;

      --space-xs: 0.5rem;
      --space-sm: 1rem;
      --space-md: 1.5rem;
      --space-lg: 2.5rem;
      --space-xl: 4rem;

      --radius-sm: 4px;
      --radius-md: 8px;

      --transition-fast: 150ms ease;
      --transition-base: 250ms ease;
    }

    /* ==========================================================================
       Base Styles
       ========================================================================== */
    *, *::before, *::after {
      box-sizing: border-box;
    }

    html {
      font-size: 16px;
      -webkit-text-size-adjust: 100%;
    }

    body {
      margin: 0;
      font-family: var(--font-body);
      font-size: 1rem;
      line-height: 1.6;
      color: var(--color-text);
      background-color: var(--color-bg);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* ==========================================================================
       Header - Minimal
       ========================================================================== */
    .site-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--space-sm) var(--space-md);
      border-bottom: 1px solid var(--color-border);
    }

    .site-brand {
      font-family: var(--font-heading);
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--color-text);
      text-decoration: none;
      transition: color var(--transition-fast);
    }

    .site-brand:hover {
      color: var(--color-muted);
    }

    .header-meta {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
    }

    .tool-label {
      font-family: var(--font-mono);
      font-size: 0.6875rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--color-muted);
    }

    .reset-link {
      font-family: var(--font-mono);
      font-size: 0.6875rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--color-muted);
      background: none;
      border: none;
      cursor: pointer;
      padding: 0.25rem 0.5rem;
      border-radius: var(--radius-sm);
      transition: color var(--transition-fast), background-color var(--transition-fast);
      opacity: 0;
      pointer-events: none;
    }

    .reset-link.is-visible {
      opacity: 1;
      pointer-events: auto;
    }

    .reset-link:hover {
      color: var(--color-text);
      background-color: var(--color-bg-alt);
    }

    /* ==========================================================================
       Main Container
       ========================================================================== */
    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      max-width: 560px;
      width: 100%;
      margin: 0 auto;
      padding: var(--space-lg) var(--space-md);
    }

    /* ==========================================================================
       Tool Container
       ========================================================================== */
    .tool {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    /* Progress indicator - subtle, single line */
    .progress {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--color-muted);
      margin-bottom: var(--space-md);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .progress-phase {
      color: var(--color-text);
      font-weight: 500;
    }

    .progress-count {
      color: var(--color-muted);
    }

    .progress-count::before {
      content: '·';
      margin-right: 0.5rem;
    }

    /* ==========================================================================
       Score Card - The hero of each scoring step
       ========================================================================== */
    .score-card {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: var(--space-lg) 0;
      opacity: 1;
      transition: opacity var(--transition-fast);
    }

    .score-card.is-transitioning {
      opacity: 0;
    }

    .category-name {
      font-family: var(--font-heading);
      font-size: clamp(2.5rem, 8vw, 3.5rem);
      font-weight: 700;
      line-height: 1.1;
      margin: 0 0 var(--space-lg) 0;
      color: var(--color-text);
    }

    /* Slider */
    .slider-container {
      width: 100%;
      max-width: 320px;
      display: flex;
      flex-direction: column;
      gap: var(--space-sm);
    }

    .slider-value {
      font-family: var(--font-heading);
      font-size: 2.5rem;
      font-weight: 700;
      line-height: 1;
      color: var(--color-text);
      min-height: 2.5rem;
    }

    .slider-value.is-unset {
      color: var(--color-border);
    }

    .slider-track {
      position: relative;
      width: 100%;
      padding: 0.75rem 0;
    }

    .slider-input {
      -webkit-appearance: none;
      appearance: none;
      width: 100%;
      height: 6px;
      background: var(--color-border);
      border-radius: 3px;
      outline: none;
      cursor: pointer;
    }

    .slider-input::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 32px;
      height: 32px;
      background: var(--color-text);
      border-radius: 50%;
      cursor: grab;
      border: 3px solid var(--color-bg);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      transition: transform var(--transition-fast), box-shadow var(--transition-fast);
    }

    .slider-input::-webkit-slider-thumb:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .slider-input::-webkit-slider-thumb:active {
      cursor: grabbing;
      transform: scale(1.05);
    }

    .slider-input::-moz-range-thumb {
      width: 32px;
      height: 32px;
      background: var(--color-text);
      border-radius: 50%;
      cursor: grab;
      border: 3px solid var(--color-bg);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    .slider-input:focus-visible {
      outline: none;
    }

    .slider-input:focus-visible::-webkit-slider-thumb {
      box-shadow: 0 0 0 3px var(--color-accent);
    }

    .slider-ticks {
      display: flex;
      justify-content: space-between;
      padding: 0 2px;
    }

    .slider-tick {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      color: var(--color-muted);
      width: 20px;
      text-align: center;
      cursor: pointer;
      padding: 0.25rem;
      border-radius: var(--radius-sm);
      transition: color var(--transition-fast), background-color var(--transition-fast);
    }

    .slider-tick:hover {
      color: var(--color-text);
      background-color: var(--color-bg-alt);
    }

    .slider-tick.is-active {
      color: var(--color-text);
      font-weight: 500;
    }

    /* ==========================================================================
       Navigation
       ========================================================================== */
    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding-top: var(--space-md);
      margin-top: auto;
      border-top: 1px solid var(--color-border);
    }

    .nav-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-family: var(--font-mono);
      font-size: 0.8125rem;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      padding: 0.875rem 1.25rem;
      border: 2px solid var(--color-text);
      background-color: transparent;
      color: var(--color-text);
      cursor: pointer;
      border-radius: var(--radius-sm);
      transition: all var(--transition-fast);
    }

    .nav-btn:hover,
    .nav-btn:focus {
      background-color: var(--color-text);
      color: var(--color-bg);
    }

    .nav-btn:focus-visible {
      outline: 2px solid var(--color-text);
      outline-offset: 2px;
    }

    .nav-btn--back {
      border-color: var(--color-border);
      color: var(--color-muted);
      padding: 0.875rem 1rem;
    }

    .nav-btn--back:hover,
    .nav-btn--back:focus {
      border-color: var(--color-text);
      background-color: transparent;
      color: var(--color-text);
    }

    .nav-btn--back.is-hidden {
      visibility: hidden;
    }

    .nav-btn--next {
      background-color: var(--color-text);
      color: var(--color-bg);
    }

    .nav-btn--next:hover,
    .nav-btn--next:focus {
      background-color: var(--color-accent);
      border-color: var(--color-accent);
      color: var(--color-text);
    }

    .nav-center {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
    }

    .skip-btn {
      font-family: var(--font-mono);
      font-size: 0.6875rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--color-muted);
      background: none;
      border: none;
      cursor: pointer;
      padding: 0.375rem 0.5rem;
      border-radius: var(--radius-sm);
      transition: color var(--transition-fast), background-color var(--transition-fast);
      opacity: 0.7;
    }

    .skip-btn:hover {
      color: var(--color-text);
      background-color: var(--color-bg-alt);
      opacity: 1;
    }

    .skip-btn.is-hidden {
      display: none;
    }

    /* ==========================================================================
       Results Panel
       ========================================================================== */
    .results {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: var(--space-md);
      opacity: 1;
      transition: opacity var(--transition-base);
    }

    .results.is-transitioning {
      opacity: 0;
    }

    .results-header {
      text-align: center;
    }

    .results-title {
      font-family: var(--font-heading);
      font-size: 1.75rem;
      font-weight: 700;
      margin: 0 0 var(--space-xs) 0;
    }

    .results-subtitle {
      font-size: 0.9375rem;
      color: var(--color-muted);
      margin: 0;
    }

    /* Matrix */
    .matrix-container {
      position: relative;
      background-color: var(--color-bg);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      padding: var(--space-sm);
    }

    .matrix-svg {
      width: 100%;
      height: auto;
      display: block;
    }

    .matrix-quadrant {
      fill: transparent;
    }

    .quadrant-maintain {
      fill: rgba(61, 90, 71, 0.06);
    }

    .quadrant-invest {
      fill: rgba(255, 226, 39, 0.15);
    }

    .quadrant-rebalance {
      fill: rgba(100, 116, 139, 0.04);
    }

    .quadrant-release {
      fill: rgba(100, 116, 139, 0.02);
    }

    .matrix-label {
      font-family: var(--font-mono);
      font-size: 3px;
      font-weight: 500;
      fill: var(--color-muted);
      text-transform: uppercase;
      letter-spacing: 0.02em;
    }

    .matrix-point {
      cursor: pointer;
      transition: transform var(--transition-fast);
    }

    .matrix-point:hover {
      transform: scale(1.15);
    }

    .matrix-point-dot {
      fill: var(--color-text);
      stroke: var(--color-bg);
      stroke-width: 0.5;
      transition: fill var(--transition-fast), stroke var(--transition-fast);
    }

    .matrix-point-text {
      font-family: var(--font-mono);
      font-size: 2.5px;
      font-weight: 600;
      fill: var(--color-text);
    }

    .matrix-point.is-active .matrix-point-dot {
      fill: var(--color-accent);
      stroke: var(--color-text);
      stroke-width: 0.8;
    }

    .matrix-tooltip {
      position: absolute;
      transform: translate(-50%, -100%);
      background-color: var(--color-bg);
      border: 1px solid var(--color-text);
      border-radius: var(--radius-sm);
      padding: 0.5rem 0.75rem;
      font-size: 0.8125rem;
      color: var(--color-text);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
      opacity: 0;
      pointer-events: none;
      transition: opacity var(--transition-fast);
      white-space: nowrap;
      z-index: 10;
    }

    .matrix-tooltip.is-visible {
      opacity: 1;
    }

    .matrix-tooltip strong {
      display: block;
      font-weight: 600;
    }

    .matrix-tooltip span {
      font-size: 0.75rem;
      color: var(--color-muted);
    }

    .matrix-axes {
      display: flex;
      justify-content: space-between;
      font-family: var(--font-mono);
      font-size: 0.6875rem;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: var(--color-muted);
      padding: var(--space-xs) 0 0 0;
    }

    /* Focus Card */
    .focus-card {
      background-color: var(--color-accent);
      border-radius: var(--radius-md);
      padding: var(--space-md);
    }

    .focus-label {
      font-family: var(--font-mono);
      font-size: 0.6875rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--color-text);
      opacity: 0.7;
      margin: 0 0 var(--space-xs) 0;
    }

    .focus-category {
      font-family: var(--font-heading);
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0 0 var(--space-xs) 0;
    }

    .focus-message {
      font-size: 0.9375rem;
      line-height: 1.5;
      margin: 0;
      color: var(--color-text);
      opacity: 0.85;
    }

    /* Quadrant Summary */
    .quadrant-summary {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-xs);
    }

    .quadrant-block {
      padding: var(--space-sm);
      background-color: var(--color-bg-alt);
      border-radius: var(--radius-sm);
    }

    .quadrant-block-title {
      font-family: var(--font-mono);
      font-size: 0.6875rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--color-muted);
      margin: 0 0 0.375rem 0;
    }

    .quadrant-block-list {
      list-style: none;
      margin: 0;
      padding: 0;
      font-size: 0.875rem;
    }

    .quadrant-block-list li {
      padding: 0.125rem 0;
    }

    .quadrant-block-list .is-empty {
      color: var(--color-muted);
      font-style: italic;
    }

    /* Results Navigation */
    .results-nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding-top: var(--space-md);
      margin-top: auto;
      border-top: 1px solid var(--color-border);
    }

    /* ==========================================================================
       Print Layout
       ========================================================================== */
    .print-view {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: var(--space-md);
    }

    .print-header {
      text-align: center;
      padding-bottom: var(--space-sm);
      border-bottom: 2px solid var(--color-text);
    }

    .print-title {
      font-family: var(--font-heading);
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0 0 var(--space-xs) 0;
    }

    .print-tagline {
      font-size: 0.9375rem;
      color: var(--color-muted);
      margin: 0;
    }

    .print-date-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-xs);
    }

    .print-date-label {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--color-muted);
    }

    .print-date-input {
      font-family: var(--font-body);
      font-size: 0.9375rem;
      padding: 0.375rem 0.5rem;
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      width: 140px;
    }

    .print-date-output {
      display: none;
    }

    /* Scores Table */
    .scores-table-section {
      margin-top: var(--space-sm);
    }

    .scores-table-title {
      font-family: var(--font-mono);
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--color-muted);
      margin: 0 0 var(--space-xs) 0;
    }

    .scores-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.875rem;
    }

    .scores-table th,
    .scores-table td {
      padding: 0.5rem 0.625rem;
      border: 1px solid var(--color-border);
      text-align: left;
    }

    .scores-table th {
      font-family: var(--font-mono);
      font-size: 0.6875rem;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: var(--color-muted);
      font-weight: 500;
      background-color: var(--color-bg-alt);
    }

    .scores-table td:nth-child(2),
    .scores-table td:nth-child(3) {
      text-align: center;
      font-family: var(--font-mono);
      font-size: 0.8125rem;
    }

    .recommendation-cell {
      font-family: var(--font-mono);
      font-size: 0.6875rem;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.04em;
    }

    .recommendation-invest {
      color: #92400E;
      background-color: rgba(255, 226, 39, 0.2);
    }

    .recommendation-maintain {
      color: #3D5A47;
      background-color: rgba(61, 90, 71, 0.1);
    }

    .recommendation-rebalance {
      color: #475569;
      background-color: rgba(100, 116, 139, 0.1);
    }

    .recommendation-release {
      color: var(--color-muted);
      background-color: rgba(100, 116, 139, 0.05);
    }

    .print-actions {
      display: flex;
      gap: var(--space-sm);
      padding-top: var(--space-md);
      margin-top: auto;
      border-top: 1px solid var(--color-border);
    }

    .print-btn {
      flex: 1;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      font-family: var(--font-mono);
      font-size: 0.8125rem;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      padding: 0.875rem 1.25rem;
      border: 2px solid var(--color-text);
      background-color: var(--color-text);
      color: var(--color-bg);
      cursor: pointer;
      border-radius: var(--radius-sm);
      transition: all var(--transition-fast);
    }

    .print-btn:hover {
      background-color: var(--color-accent);
      border-color: var(--color-accent);
      color: var(--color-text);
    }

    /* ==========================================================================
       Footer - Minimal
       ========================================================================== */
    .site-footer {
      padding: var(--space-sm) var(--space-md);
      text-align: center;
      font-size: 0.75rem;
      color: var(--color-muted);
    }

    .privacy-note {
      margin: 0;
    }

    /* ==========================================================================
       Responsive Adjustments
       ========================================================================== */
    @media (max-width: 480px) {
      .site-header {
        padding: var(--space-xs) var(--space-sm);
      }

      main {
        padding: var(--space-md) var(--space-sm);
      }

      .category-name {
        font-size: 2rem;
      }

      .slider-container {
        max-width: 280px;
      }

      .nav-btn {
        padding: 0.75rem 1rem;
        font-size: 0.75rem;
      }

      .nav-btn--back {
        padding: 0.75rem 0.875rem;
      }

      .quadrant-summary {
        grid-template-columns: 1fr;
      }
    }

    /* ==========================================================================
       Reduced Motion
       ========================================================================== */
    @media (prefers-reduced-motion: reduce) {
      .score-card,
      .results,
      .matrix-point,
      .slider-input::-webkit-slider-thumb {
        transition: none;
      }
    }

    /* ==========================================================================
       Print Styles
       ========================================================================== */
    @media print {
      body {
        background: white;
        font-size: 10pt;
      }

      .site-header,
      .site-footer,
      .nav,
      .results-nav,
      .print-actions,
      .print-date-input,
      .skip-btn,
      .reset-link,
      button {
        display: none !important;
      }

      main {
        max-width: 6.5in;
        padding: 0;
        margin: 0 auto;
      }

      .print-view {
        gap: 0.15in;
      }

      .print-header {
        text-align: center;
        padding-bottom: 0.1in;
        margin-bottom: 0.1in;
        border-bottom: 1.5pt solid black;
      }

      .print-title {
        font-size: 16pt;
        margin: 0 0 0.05in 0;
      }

      .print-tagline {
        font-size: 9pt;
        color: #444;
        margin: 0;
      }

      .print-date-row {
        margin: 0.1in 0;
      }

      .print-date-output {
        display: inline !important;
        font-size: 9pt;
      }

      .print-date-label {
        display: none;
      }

      .matrix-container {
        width: 2.75in;
        max-width: 2.75in;
        margin: 0.1in auto;
        border: 1pt solid black !important;
        border-radius: 0 !important;
        padding: 0.1in !important;
        page-break-inside: avoid;
      }

      .matrix-quadrant {
        fill: transparent !important;
      }

      .quadrant-invest {
        fill: rgba(0, 0, 0, 0.08) !important;
      }

      .quadrant-maintain {
        fill: rgba(0, 0, 0, 0.03) !important;
      }

      .matrix-label {
        font-size: 2.5px !important;
        font-weight: 600 !important;
        fill: #333 !important;
      }

      .matrix-point-dot {
        fill: black !important;
        stroke: white !important;
      }

      .matrix-point-text {
        font-size: 2.2px !important;
        fill: black !important;
        font-weight: 700 !important;
      }

      .matrix-axes {
        display: none;
      }

      .matrix-tooltip {
        display: none !important;
      }

      .focus-card {
        margin: 0.1in 0;
        padding: 0.12in;
        background: #FFFBEB !important;
        border: 1pt solid #D4A00A;
        border-radius: 0;
        page-break-inside: avoid;
      }

      .focus-label {
        font-size: 8pt;
        margin-bottom: 0.03in;
      }

      .focus-category {
        font-size: 12pt;
        margin-bottom: 0.03in;
      }

      .focus-message {
        font-size: 9pt;
        line-height: 1.35;
      }

      .quadrant-summary {
        display: grid !important;
        grid-template-columns: 1fr 1fr;
        gap: 0.08in;
        margin: 0.1in 0;
        page-break-inside: avoid;
      }

      .quadrant-block {
        padding: 0.06in;
        border: 0.5pt solid #ccc;
        background: #fafafa !important;
        border-radius: 0;
      }

      .quadrant-block-title {
        font-size: 8pt;
        font-weight: 600;
        margin-bottom: 0.02in;
      }

      .quadrant-block-list {
        font-size: 8pt;
        line-height: 1.25;
      }

      .scores-table-section {
        margin-top: 0.1in;
        page-break-inside: avoid;
      }

      .scores-table-title {
        font-size: 9pt;
        font-weight: 600;
        margin-bottom: 0.05in;
        text-align: center;
      }

      .scores-table {
        font-size: 8pt;
      }

      .scores-table th,
      .scores-table td {
        border: 0.5pt solid black;
        padding: 0.04in 0.06in;
      }

      .scores-table th {
        background: #f0f0f0 !important;
        font-weight: 600;
        font-size: 7pt;
      }

      .scores-table td:nth-child(2),
      .scores-table td:nth-child(3) {
        width: 0.6in;
      }

      .scores-table td:nth-child(4) {
        width: 0.9in;
        text-align: center;
      }

      .recommendation-cell {
        background: transparent !important;
        font-weight: 600 !important;
      }

      .recommendation-invest {
        color: black !important;
        font-weight: 700 !important;
      }

      h1, h2, h3, h4 {
        page-break-after: avoid;
      }

      @page {
        margin: 0.5in;
        size: letter portrait;
      }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <a href="index.html" class="site-brand" aria-label="Return to home">BS.</a>
    <div class="header-meta">
      <span class="tool-label">Life Strategy Matrix</span>
      <button class="reset-link" id="header-reset" type="button">Start over</button>
    </div>
  </header>

  <main>
    <div class="tool" id="tool" role="application" aria-label="Life Strategy Matrix tool">
      <!-- Content rendered by JavaScript -->
    </div>
  </main>

  <footer class="site-footer">
    <p class="privacy-note">Nothing is saved. All data stays in your browser.</p>
  </footer>

  <script>
    (function() {
      var tool = document.getElementById('tool');
      var headerReset = document.getElementById('header-reset');
      if (!tool) return;

      // Categories
      var categories = [
        { id: 'health', label: 'Health' },
        { id: 'work', label: 'Work' },
        { id: 'family', label: 'Family' },
        { id: 'spirituality', label: 'Spirituality' },
        { id: 'creativity', label: 'Creativity' },
        { id: 'relationships', label: 'Relationships' },
        { id: 'financial', label: 'Financial' },
        { id: 'rest', label: 'Rest' }
      ];

      // Quadrant definitions
      var quadrants = {
        maintain: {
          label: 'Maintain',
          note: "Keep doing what you're doing."
        },
        invest: {
          label: 'Invest',
          note: 'This deserves more of your time.'
        },
        rebalance: {
          label: 'Rebalance',
          note: 'Consider easing back here.'
        },
        release: {
          label: 'Release',
          note: "It's okay to let this coast."
        }
      };

      // State
      var state = {
        step: 'importance', // 'importance', 'satisfaction', 'results', 'print'
        categoryIndex: 0,
        scores: categories.map(function(c) {
          return { id: c.id, label: c.label, importance: null, satisfaction: null };
        }),
        highlightedId: null
      };

      // Helpers
      function isComplete() {
        return state.scores.every(function(s) {
          return s.importance !== null && s.satisfaction !== null;
        });
      }

      function getQuadrant(score) {
        var midpoint = 3.5;
        var highImp = score.importance >= midpoint;
        var highSat = score.satisfaction >= midpoint;
        if (highImp && highSat) return 'maintain';
        if (highImp && !highSat) return 'invest';
        if (!highImp && highSat) return 'rebalance';
        return 'release';
      }

      function getInitials(label) {
        return label.split(' ').map(function(w) { return w[0]; }).join('').slice(0, 2).toUpperCase();
      }

      function getPointPosition(value) {
        var padding = 10;
        var normalized = (value - 1) / 5;
        return padding + normalized * (100 - 2 * padding);
      }

      function getFocus() {
        var buckets = { maintain: [], invest: [], rebalance: [], release: [] };
        state.scores.forEach(function(s) {
          if (s.importance === null || s.satisfaction === null) return;
          var q = getQuadrant(s);
          var gap = (s.importance - 3.5) + (3.5 - s.satisfaction);
          buckets[q].push({ score: s, gap: gap });
        });

        if (buckets.invest.length) {
          buckets.invest.sort(function(a, b) { return b.gap - a.gap; });
          var focus = buckets.invest[0].score;
          return {
            category: focus.label,
            message: "It's important to you but you're not satisfied. This is where to invest energy. What's one thing you can do this week?"
          };
        }

        if (buckets.rebalance.length) {
          buckets.rebalance.sort(function(a, b) { return b.score.satisfaction - a.score.satisfaction; });
          var focus = buckets.rebalance[0].score;
          return {
            category: focus.label,
            message: "You're putting time in and it's going well, but it's less important right now. Can you ease back to make space for what matters more?"
          };
        }

        // Fallback: category furthest from center
        var sorted = state.scores.slice().filter(function(s) {
          return s.importance !== null && s.satisfaction !== null;
        }).sort(function(a, b) {
          var distA = Math.abs(a.importance - 3.5) + Math.abs(a.satisfaction - 3.5);
          var distB = Math.abs(b.importance - 3.5) + Math.abs(b.satisfaction - 3.5);
          return distB - distA;
        });

        if (sorted.length) {
          return {
            category: sorted[0].label,
            message: "This has the biggest gap from balance. Pick one small shift to get closer to where you want to be."
          };
        }

        return { category: 'None', message: 'Complete all categories to see your focus.' };
      }

      // Render
      function render() {
        // Update header reset visibility
        var hasAnyScore = state.scores.some(function(s) {
          return s.importance !== null || s.satisfaction !== null;
        });
        headerReset.classList.toggle('is-visible', hasAnyScore || state.step === 'results' || state.step === 'print');

        if (state.step === 'importance' || state.step === 'satisfaction') {
          renderScoring();
        } else if (state.step === 'results') {
          renderResults();
        } else if (state.step === 'print') {
          renderPrint();
        }
      }

      function renderScoring() {
        var isImportance = state.step === 'importance';
        var category = state.scores[state.categoryIndex];
        var currentValue = isImportance ? category.importance : category.satisfaction;
        var displayValue = currentValue !== null ? currentValue : '—';
        var isUnset = currentValue === null;

        var phase = isImportance ? 'Importance' : 'Satisfaction';
        var count = (state.categoryIndex + 1) + ' of ' + categories.length;

        var isFirstCategory = state.step === 'importance' && state.categoryIndex === 0;
        var isLastCategory = state.step === 'satisfaction' && state.categoryIndex === categories.length - 1;
        var nextLabel = isLastCategory ? 'See results' : 'Next →';

        var html = '' +
          '<div class="progress">' +
            '<span class="progress-phase">' + phase + '</span>' +
            '<span class="progress-count">' + count + '</span>' +
          '</div>' +
          '<div class="score-card" id="score-card">' +
            '<h1 class="category-name">' + category.label + '</h1>' +
            '<div class="slider-container">' +
              '<div class="slider-value' + (isUnset ? ' is-unset' : '') + '" id="slider-value">' + displayValue + '</div>' +
              '<div class="slider-track">' +
                '<input type="range" class="slider-input" id="slider-input" min="1" max="6" step="1" value="' + (currentValue || 3) + '" ' +
                  'aria-label="' + phase + ' rating for ' + category.label + '" ' +
                  'aria-valuemin="1" aria-valuemax="6" aria-valuenow="' + (currentValue || 3) + '">' +
              '</div>' +
              '<div class="slider-ticks" id="slider-ticks">' +
                '<span class="slider-tick' + (currentValue === 1 ? ' is-active' : '') + '" data-value="1">1</span>' +
                '<span class="slider-tick' + (currentValue === 2 ? ' is-active' : '') + '" data-value="2">2</span>' +
                '<span class="slider-tick' + (currentValue === 3 ? ' is-active' : '') + '" data-value="3">3</span>' +
                '<span class="slider-tick' + (currentValue === 4 ? ' is-active' : '') + '" data-value="4">4</span>' +
                '<span class="slider-tick' + (currentValue === 5 ? ' is-active' : '') + '" data-value="5">5</span>' +
                '<span class="slider-tick' + (currentValue === 6 ? ' is-active' : '') + '" data-value="6">6</span>' +
              '</div>' +
            '</div>' +
          '</div>' +
          '<nav class="nav">' +
            '<button type="button" class="nav-btn nav-btn--back' + (isFirstCategory ? ' is-hidden' : '') + '" id="nav-back">← Back</button>' +
            '<div class="nav-center">' +
              '<button type="button" class="skip-btn" id="nav-skip">Skip</button>' +
            '</div>' +
            '<button type="button" class="nav-btn nav-btn--next" id="nav-next">' + nextLabel + '</button>' +
          '</nav>';

        tool.innerHTML = html;
        attachScoringListeners();
      }

      function attachScoringListeners() {
        var slider = document.getElementById('slider-input');
        var valueDisplay = document.getElementById('slider-value');
        var ticks = document.getElementById('slider-ticks');
        var card = document.getElementById('score-card');
        var isImportance = state.step === 'importance';
        var category = state.scores[state.categoryIndex];

        function updateValue(val) {
          var num = Number(val);
          if (isImportance) {
            category.importance = num;
          } else {
            category.satisfaction = num;
          }
          valueDisplay.textContent = num;
          valueDisplay.classList.remove('is-unset');
          slider.setAttribute('aria-valuenow', num);

          // Update tick highlights
          var tickEls = ticks.querySelectorAll('.slider-tick');
          tickEls.forEach(function(t) {
            t.classList.toggle('is-active', Number(t.dataset.value) === num);
          });
        }

        slider.addEventListener('input', function() {
          updateValue(slider.value);
        });

        ticks.addEventListener('click', function(e) {
          if (e.target.classList.contains('slider-tick')) {
            var val = e.target.dataset.value;
            slider.value = val;
            updateValue(val);
          }
        });

        document.getElementById('nav-back').addEventListener('click', function() {
          goBack();
        });

        document.getElementById('nav-next').addEventListener('click', function() {
          // Save current value if not set
          var currentValue = isImportance ? category.importance : category.satisfaction;
          if (currentValue === null) {
            updateValue(slider.value);
          }
          goNext();
        });

        document.getElementById('nav-skip').addEventListener('click', function() {
          if (isImportance) {
            category.importance = null;
          } else {
            category.satisfaction = null;
          }
          goNext();
        });
      }

      function goBack() {
        if (state.step === 'importance') {
          if (state.categoryIndex > 0) {
            state.categoryIndex--;
            transitionTo('importance');
          }
        } else if (state.step === 'satisfaction') {
          if (state.categoryIndex > 0) {
            state.categoryIndex--;
            transitionTo('satisfaction');
          } else {
            state.categoryIndex = categories.length - 1;
            transitionTo('importance');
          }
        } else if (state.step === 'results') {
          state.categoryIndex = categories.length - 1;
          transitionTo('satisfaction');
        } else if (state.step === 'print') {
          transitionTo('results');
        }
      }

      function goNext() {
        if (state.step === 'importance') {
          if (state.categoryIndex < categories.length - 1) {
            state.categoryIndex++;
            transitionTo('importance');
          } else {
            state.categoryIndex = 0;
            transitionTo('satisfaction');
          }
        } else if (state.step === 'satisfaction') {
          if (state.categoryIndex < categories.length - 1) {
            state.categoryIndex++;
            transitionTo('satisfaction');
          } else if (isComplete()) {
            transitionTo('results');
          } else {
            // Find first incomplete
            for (var i = 0; i < state.scores.length; i++) {
              if (state.scores[i].importance === null) {
                state.categoryIndex = i;
                transitionTo('importance');
                return;
              }
              if (state.scores[i].satisfaction === null) {
                state.categoryIndex = i;
                transitionTo('satisfaction');
                return;
              }
            }
          }
        }
      }

      function transitionTo(step) {
        var card = document.getElementById('score-card');
        var results = document.querySelector('.results');
        var target = card || results;

        if (target && !window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
          target.classList.add('is-transitioning');
          setTimeout(function() {
            state.step = step;
            render();
          }, 150);
        } else {
          state.step = step;
          render();
        }
      }

      function renderResults() {
        var focus = getFocus();
        var buckets = { maintain: [], invest: [], rebalance: [], release: [] };
        state.scores.forEach(function(s) {
          if (s.importance !== null && s.satisfaction !== null) {
            buckets[getQuadrant(s)].push(s.label);
          }
        });

        var html = '' +
          '<div class="progress">' +
            '<span class="progress-phase">Your Matrix</span>' +
          '</div>' +
          '<div class="results" id="results">' +
            '<div class="results-header">' +
              '<h1 class="results-title">Where to focus</h1>' +
              '<p class="results-subtitle">Tap any point to see details</p>' +
            '</div>' +
            '<div class="matrix-container" id="matrix-container"></div>' +
            '<div class="matrix-axes">' +
              '<span>↑ Satisfaction</span>' +
              '<span>Importance →</span>' +
            '</div>' +
            '<div class="focus-card">' +
              '<p class="focus-label">Your priority</p>' +
              '<h2 class="focus-category">' + focus.category + '</h2>' +
              '<p class="focus-message">' + focus.message + '</p>' +
            '</div>' +
            '<div class="quadrant-summary">' +
              buildQuadrantBlock('Maintain', buckets.maintain) +
              buildQuadrantBlock('Invest', buckets.invest) +
              buildQuadrantBlock('Rebalance', buckets.rebalance) +
              buildQuadrantBlock('Release', buckets.release) +
            '</div>' +
          '</div>' +
          '<nav class="results-nav">' +
            '<button type="button" class="nav-btn nav-btn--back" id="nav-back">← Edit scores</button>' +
            '<button type="button" class="nav-btn nav-btn--next" id="nav-print">Print plan →</button>' +
          '</nav>';

        tool.innerHTML = html;
        buildMatrix(document.getElementById('matrix-container'), true);
        attachResultsListeners();
      }

      function buildQuadrantBlock(title, items) {
        var list = items.length ? items.map(function(i) {
          return '<li>' + i + '</li>';
        }).join('') : '<li class="is-empty">None</li>';
        return '' +
          '<div class="quadrant-block">' +
            '<h3 class="quadrant-block-title">' + title + '</h3>' +
            '<ul class="quadrant-block-list">' + list + '</ul>' +
          '</div>';
      }

      function buildMatrix(container, showTooltip) {
        var svgNS = 'http://www.w3.org/2000/svg';
        var svg = document.createElementNS(svgNS, 'svg');
        svg.setAttribute('viewBox', '0 0 100 100');
        svg.setAttribute('role', 'img');
        svg.setAttribute('aria-label', 'Life strategy matrix showing your scores');
        svg.classList.add('matrix-svg');

        // Quadrant backgrounds
        var quads = [
          { x: 0, y: 0, w: 50, h: 50, cls: 'quadrant-rebalance' },
          { x: 50, y: 0, w: 50, h: 50, cls: 'quadrant-maintain' },
          { x: 0, y: 50, w: 50, h: 50, cls: 'quadrant-release' },
          { x: 50, y: 50, w: 50, h: 50, cls: 'quadrant-invest' }
        ];

        quads.forEach(function(q) {
          var rect = document.createElementNS(svgNS, 'rect');
          rect.setAttribute('x', q.x);
          rect.setAttribute('y', q.y);
          rect.setAttribute('width', q.w);
          rect.setAttribute('height', q.h);
          rect.classList.add('matrix-quadrant', q.cls);
          svg.appendChild(rect);
        });

        // Border
        var border = document.createElementNS(svgNS, 'rect');
        border.setAttribute('x', 0);
        border.setAttribute('y', 0);
        border.setAttribute('width', 100);
        border.setAttribute('height', 100);
        border.setAttribute('fill', 'none');
        border.setAttribute('stroke', 'currentColor');
        border.setAttribute('stroke-width', '0.6');
        svg.appendChild(border);

        // Center lines
        var vLine = document.createElementNS(svgNS, 'line');
        vLine.setAttribute('x1', 50);
        vLine.setAttribute('y1', 0);
        vLine.setAttribute('x2', 50);
        vLine.setAttribute('y2', 100);
        vLine.setAttribute('stroke', 'currentColor');
        vLine.setAttribute('stroke-width', '0.4');
        vLine.setAttribute('stroke-dasharray', '2,2');
        svg.appendChild(vLine);

        var hLine = document.createElementNS(svgNS, 'line');
        hLine.setAttribute('x1', 0);
        hLine.setAttribute('y1', 50);
        hLine.setAttribute('x2', 100);
        hLine.setAttribute('y2', 50);
        hLine.setAttribute('stroke', 'currentColor');
        hLine.setAttribute('stroke-width', '0.4');
        hLine.setAttribute('stroke-dasharray', '2,2');
        svg.appendChild(hLine);

        // Labels
        var labels = [
          { text: 'Rebalance', x: 4, y: 6, anchor: 'start' },
          { text: 'Maintain', x: 96, y: 6, anchor: 'end' },
          { text: 'Release', x: 4, y: 97, anchor: 'start' },
          { text: 'Invest', x: 96, y: 97, anchor: 'end' }
        ];

        labels.forEach(function(l) {
          var text = document.createElementNS(svgNS, 'text');
          text.setAttribute('x', l.x);
          text.setAttribute('y', l.y);
          text.setAttribute('text-anchor', l.anchor);
          text.classList.add('matrix-label');
          text.textContent = l.text;
          svg.appendChild(text);
        });

        // Points
        state.scores.forEach(function(s) {
          if (s.importance === null || s.satisfaction === null) return;
          var x = getPointPosition(s.importance);
          var y = 100 - getPointPosition(s.satisfaction);

          var group = document.createElementNS(svgNS, 'g');
          group.classList.add('matrix-point');
          group.setAttribute('data-id', s.id);
          group.setAttribute('data-label', s.label);
          group.setAttribute('data-importance', s.importance);
          group.setAttribute('data-satisfaction', s.satisfaction);
          group.setAttribute('tabindex', '0');
          group.setAttribute('role', 'button');
          group.setAttribute('aria-label', s.label + ': ' + s.importance + ' importance, ' + s.satisfaction + ' satisfaction');

          var circle = document.createElementNS(svgNS, 'circle');
          circle.setAttribute('cx', x);
          circle.setAttribute('cy', y);
          circle.setAttribute('r', '3');
          circle.classList.add('matrix-point-dot');
          group.appendChild(circle);

          var text = document.createElementNS(svgNS, 'text');
          text.setAttribute('x', x);
          text.setAttribute('y', y - 5);
          text.setAttribute('text-anchor', 'middle');
          text.classList.add('matrix-point-text');
          text.textContent = getInitials(s.label);
          group.appendChild(text);

          svg.appendChild(group);
        });

        container.innerHTML = '';
        container.appendChild(svg);

        if (showTooltip) {
          var tooltip = document.createElement('div');
          tooltip.className = 'matrix-tooltip';
          container.appendChild(tooltip);

          // Event listeners for tooltips
          var points = container.querySelectorAll('.matrix-point');
          points.forEach(function(point) {
            function showTip() {
              state.highlightedId = point.dataset.id;
              updateMatrixHighlight(container);

              var label = point.dataset.label;
              var imp = point.dataset.importance;
              var sat = point.dataset.satisfaction;
              tooltip.innerHTML = '<strong>' + label + '</strong><span>' + imp + '/6 importance · ' + sat + '/6 satisfaction</span>';

              var rect = point.getBoundingClientRect();
              var containerRect = container.getBoundingClientRect();
              tooltip.style.left = (rect.left - containerRect.left + rect.width / 2) + 'px';
              tooltip.style.top = (rect.top - containerRect.top - 8) + 'px';
              tooltip.classList.add('is-visible');
            }

            point.addEventListener('mouseenter', showTip);
            point.addEventListener('focus', showTip);
            point.addEventListener('click', showTip);
          });

          container.addEventListener('mouseleave', function() {
            tooltip.classList.remove('is-visible');
          });
        }
      }

      function updateMatrixHighlight(container) {
        var points = container.querySelectorAll('.matrix-point');
        points.forEach(function(point) {
          point.classList.toggle('is-active', point.dataset.id === state.highlightedId);
        });
      }

      function attachResultsListeners() {
        document.getElementById('nav-back').addEventListener('click', function() {
          state.categoryIndex = categories.length - 1;
          transitionTo('satisfaction');
        });

        document.getElementById('nav-print').addEventListener('click', function() {
          state.step = 'print';
          render();
        });
      }

      function renderPrint() {
        var focus = getFocus();
        var buckets = { maintain: [], invest: [], rebalance: [], release: [] };
        state.scores.forEach(function(s) {
          if (s.importance !== null && s.satisfaction !== null) {
            buckets[getQuadrant(s)].push(s.label);
          }
        });

        var tableRows = state.scores.map(function(s) {
          var q = getQuadrant(s);
          return '' +
            '<tr>' +
              '<td>' + s.label + '</td>' +
              '<td>' + (s.importance || '—') + '/6</td>' +
              '<td>' + (s.satisfaction || '—') + '/6</td>' +
              '<td class="recommendation-cell recommendation-' + q + '">' + quadrants[q].label + '</td>' +
            '</tr>';
        }).join('');

        var html = '' +
          '<div class="print-view">' +
            '<div class="print-header">' +
              '<h1 class="print-title">Life Strategy Matrix</h1>' +
              '<p class="print-tagline">Where to invest your energy</p>' +
            '</div>' +
            '<div class="print-date-row">' +
              '<label class="print-date-label" for="print-date">Date:</label>' +
              '<input type="text" class="print-date-input" id="print-date" placeholder="Today\'s date">' +
              '<span class="print-date-output" id="print-date-output"></span>' +
            '</div>' +
            '<div class="matrix-container" id="matrix-container"></div>' +
            '<div class="focus-card">' +
              '<p class="focus-label">Your priority this month</p>' +
              '<h2 class="focus-category">' + focus.category + '</h2>' +
              '<p class="focus-message">' + focus.message + '</p>' +
            '</div>' +
            '<div class="quadrant-summary">' +
              buildQuadrantBlock('Maintain', buckets.maintain) +
              buildQuadrantBlock('Invest', buckets.invest) +
              buildQuadrantBlock('Rebalance', buckets.rebalance) +
              buildQuadrantBlock('Release', buckets.release) +
            '</div>' +
            '<div class="scores-table-section">' +
              '<h3 class="scores-table-title">Your Scores</h3>' +
              '<table class="scores-table">' +
                '<thead>' +
                  '<tr>' +
                    '<th>Category</th>' +
                    '<th>Importance</th>' +
                    '<th>Satisfaction</th>' +
                    '<th>Action</th>' +
                  '</tr>' +
                '</thead>' +
                '<tbody>' + tableRows + '</tbody>' +
              '</table>' +
            '</div>' +
          '</div>' +
          '<div class="print-actions">' +
            '<button type="button" class="nav-btn nav-btn--back" id="nav-back">← Back</button>' +
            '<button type="button" class="print-btn" id="print-btn">Print PDF</button>' +
          '</div>';

        tool.innerHTML = html;
        buildMatrix(document.getElementById('matrix-container'), false);
        attachPrintListeners();
      }

      function attachPrintListeners() {
        document.getElementById('nav-back').addEventListener('click', function() {
          state.step = 'results';
          render();
        });

        document.getElementById('print-btn').addEventListener('click', function() {
          window.print();
        });

        var dateInput = document.getElementById('print-date');
        var dateOutput = document.getElementById('print-date-output');
        dateInput.addEventListener('input', function() {
          dateOutput.textContent = dateInput.value;
        });
      }

      function resetTool() {
        state.step = 'importance';
        state.categoryIndex = 0;
        state.scores = categories.map(function(c) {
          return { id: c.id, label: c.label, importance: null, satisfaction: null };
        });
        state.highlightedId = null;
        render();
      }

      // Header reset button
      headerReset.addEventListener('click', function() {
        if (confirm('Start over? This will clear all your scores.')) {
          resetTool();
        }
      });

      // Keyboard navigation
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && (state.step === 'importance' || state.step === 'satisfaction')) {
          var nextBtn = document.getElementById('nav-next');
          if (nextBtn && document.activeElement !== nextBtn) {
            nextBtn.click();
          }
        }
      });

      // Initial render
      render();
    })();
  </script>
</body>
</html>
